<!DOCTYPE html>
<head>
  <title>highlight.js test</title>
  <meta charset="utf-8">

  <link rel="stylesheet" href="styles/_test-less.css">

  <style>
    body {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    header {
      margin-bottom: 1em;
    }
    table {
      width: 100%;
      padding: 0;
      border-collapse: collapse;
    }
    th {
      width: 12em;
      margin: 0;
      padding: 0;
    }
    td {
      padding-bottom: 1em;
    }
    td, th {
      vertical-align: top;
      text-align: left;
    }
    pre {
      margin: 0;
    }
  </style>
</head>
<body>
  <header>
    <h1>LESS Test</h1>
    <!-- <div class="content"><button onclick="hljs.initHighlighting()">Highlight!</button></div> -->
    <!-- instead of doing it on page load, I'm doing it manually, for safety during testing -->
  </header>

  <div class="main">
    <table id="autotest">
      <tr>
        <th>LESS</th>
        <td class="less">
<pre><code class="less">/*! LESS */
//! ----------

@import '_variables';
@import (reference) '_mixins';

@red: #e55;

.at-viewport(@width) when (isnumber(@width)) {
  @at: ~'@';
  @{at}-ms-viewport { width: @width; }
  @{at}-o-viewport { width: @width; }
  @{at}viewport { width: @width; }
}

.baseline-grid(@color) when (iscolor(@color)) {
  @linear-gradient:
    fade(@color,5) 0%, fade(@color,5) 25%,
    fade(@color,15) 25%, fade(@color,15) 75%,
    fade(@color,5) 75%, fade(@color,5) 100%;
  background: -webkit-linear-gradient(@linear-gradient);
  background: -moz-linear-gradient(@linear-gradient);
  background: -ms-linear-gradient(@linear-gradient);
  background: -o-linear-gradient(@linear-gradient);
  background: linear-gradient(@linear-gradient);
  background-size: 27px 27px;
}

#format-string-function { /* from http://lesscss.org */
  format-a-d: %(&quot;repetitions: %a file: %d&quot;, 1 + 2, &quot;directory/file.less&quot;);
  format-a-d-upper: %('repetitions: %A file: %D', 1 + 2, &quot;directory/file.less&quot;);
  format-s: %(&quot;repetitions: %s file: %s&quot;, 1 + 2, &quot;directory/file.less&quot;);
  format-s-upper: %('repetitions: %S file: %S', 1 + 2, &quot;directory/file.less&quot;);
}

.nav {
  &amp;:extend(.clearfix all);
  display: block;
  li {
    display: inline-block;
    .ie7-inline-block();
    margin: 0;
    padding: 0;
  }
}

body {
  @media screen and (-webkit-min-device-pixel-ratio: 0) {
    background: linear-gradient(45deg, blue, red);
    &amp;:first-of-type pre::after {
      content: 'highlight: ' attr(class);
    }
  }
  .baseline-grid(darken(dodgerblue,10));
}
</code></pre>
        </td>
      </tr>
    
      <tr>
        <th>CSS</th>
        <td class="css">
<pre><code class="css">@media screen and (-webkit-min-device-pixel-ratio: 0) {
  body:first-of-type pre::after {
    content: 'highlight: ' attr(class);
  }
  body {
    background: linear-gradient(45deg, blue, red);
  }
}

@import url('print.css');
@page:right {
 margin: 1cm 2cm 1.3cm 4cm;
}

@font-face {
  font-family: Chunkfive; src: url('Chunkfive.otf');
}

div.text,
#content,
li[lang=ru] {
  font: Tahoma, Chunkfive, sans-serif;
  background: url('hatch.png') /* wtf? */;  color: #F0F0F0 !important;
  width: 100%;
}
</code></pre>
        </td>
      </tr>
    
      <tr>
        <th>SCSS</th>
        <td class="scss">
<pre><code class="scss">@import "compass/reset";

// variables
$colorGreen: #008000;
$colorGreenDark: darken($colorGreen, 10);

@mixin container {
  max-width: 980px;
}

// mixins with parameters
@mixin button($color:green) {
  @if ($color == green) {
      background-color: #008000;
  }
  @else if ($color == red) {
      background-color: #B22222;
  }
}

button {
  @include button(red);
}

div,
.navbar,
#header,
input[type="input"] {
  font-family: "Helvetica Neue", Arial, sans-serif;
  width: auto;
  margin: 0 auto;
  display: block;
}

.row-12 > [class*="spans"] {
  border-left: 1px solid #B5C583;
}

// nested definitions
ul {
  width: 100%;
  padding: {
    left: 5px; right: 5px;
  }
  li {
    float: left; margin-right: 10px;
    .home {
      background: url('http://placehold.it/20') scroll no-repeat 0 0;
    }
  }
}

.banner {
  @extend .container;
}

a {
  color: $colorGreen;
  &amp;:hover { color: $colorGreenDark; }
  &amp;:visited { color: #c458cb; }
}

@for $i from 1 through 5 {
    .span#{$i} {
        width: 20px*$i;
    }
}

@mixin mobile {
  @media screen and (max-width : 600px) {
    @content;
  }
}</code></pre>
        </td>
      </tr>
      <tr>
        <th>JavaScript</th>
        <td class="javascript">
<pre><code class="javascript">function $initHighlight(block, flags) {
  try {
    if (block.className.search(/\bno\-highlight\b/) != -1)
      return processBlock(block, true, 0x0F) + ' class=""';
  } catch (e) {
    /* handle exception */
    var e4x =
        &lt;div&gt;Example
            &lt;p&gt;1234&lt;/p&gt;&lt;/div&gt;;
  }
  for (var i = 0 / 2; i &lt; classes.length; i++) { // "0 / 2" should not be parsed as regexp
    if (checkCondition(classes[i]) === undefined)
      return /\d+[\s/]/g;
  }
  console.log(new Date());
}</code></pre>
        </td>
      </tr>
      <tr>
        <th>PHP</th>
        <td class="php">
<pre><code class="php">require_once 'Zend/Uri/Http.php';

abstract class URI extends BaseURI
{
  abstract function test();

  /**
   * Returns a URI
   *
   * @return  URI
   */
  static public function _factory($stats = array(), $uri = 'http')
  {
      echo __METHOD__;
      $uri = explode(':', $uri, 0b10);
      $schemeSpecific = isset($uri[1]) ? $uri[1] : '';
      $desc = 'Multi
line description';

      // Security check
      if (!ctype_alnum($scheme)) {
          throw new Zend_Uri_Exception('Illegal scheme');
      }

      return [
        'uri' => $uri,
        'value' => null,
      ];
  }
}

__halt_compiler () ; datahere
datahere
datahere */
datahere</code></pre>
        </td>
      </tr>
    </table>
  </div>

  <div id="scripts">
    <script src="../build/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
  </div>
</body>
</html>
